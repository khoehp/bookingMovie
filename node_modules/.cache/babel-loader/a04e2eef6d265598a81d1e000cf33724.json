{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\31-08-2022-10-15-45-archive\\\\src\\\\features\\\\booking\\\\pages\\\\Home\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Pagination } from \"antd\";\nimport { fetchMoviesAction } from \"features/booking/action\";\nimport MovieList from \"features/booking/components/MovieList\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const currentPage = new URLSearchParams(location.search).get(\"page\");\n  const [config, setConfig] = useState({\n    currentPage: +currentPage || 1,\n    pageSize: 8,\n    totalCount: 0\n  });\n  const [count, setCount] = useState(0);\n\n  const changeTotalCount = total => {\n    setConfig({ ...config,\n      totalCount: total\n    });\n  };\n\n  const fetchMovies = async () => {\n    dispatch(fetchMoviesAction(config, changeTotalCount));\n  };\n\n  const handleChangePage = page => {\n    //search params\n    history.push(`/?page=${page}&a=1`);\n    setConfig({ ...config,\n      currentPage: page\n    });\n  };\n\n  useEffect(() => {\n    fetchMovies();\n  }, [config.currentPage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: 40\n      },\n      children: \"Danh s\\xE1ch phim\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        marginTop: 40\n      },\n      onChange: handleChangePage,\n      current: config.currentPage,\n      pageSize: config.pageSize,\n      total: config.totalCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"2eRu7IIBqnlSV8tmdIoql6ogTEU=\", false, function () {\n  return [useDispatch, useLocation, useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["Pagination","fetchMoviesAction","MovieList","React","useState","useEffect","useDispatch","useHistory","useLocation","useParams","Home","dispatch","location","history","currentPage","URLSearchParams","search","get","config","setConfig","pageSize","totalCount","count","setCount","changeTotalCount","total","fetchMovies","handleChangePage","page","push","textAlign","fontSize","display","justifyContent","marginTop"],"sources":["C:/Users/Administrator/Desktop/31-08-2022-10-15-45-archive/src/features/booking/pages/Home/index.jsx"],"sourcesContent":["import { Pagination } from \"antd\";\nimport { fetchMoviesAction } from \"features/booking/action\";\n\nimport MovieList from \"features/booking/components/MovieList\";\nimport React from \"react\";\nimport { useState } from \"react\";\n\nimport { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\n\nfunction Home() {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  \n\n  const currentPage = new URLSearchParams(location.search).get(\"page\");\n\n  const [config, setConfig] = useState({\n    currentPage: +currentPage || 1,\n    pageSize: 8,\n    totalCount: 0,\n  });\n\n  const [ count, setCount]= useState(0)\n\n  const changeTotalCount = (total) => {\n    setConfig({ ...config, totalCount: total });\n  };\n\n  const fetchMovies = async () => {\n    dispatch(fetchMoviesAction(config, changeTotalCount));\n  };\n\n  const handleChangePage = (page) => {\n    //search params\n    history.push(`/?page=${page}&a=1`);\n    setConfig({ ...config, currentPage: page });\n  };\n\n  useEffect(() => {\n    fetchMovies();\n  }, [config.currentPage]);\n\n  return (\n    <div>\n      <h1 style={{ textAlign: \"center\", fontSize: 40 }}>Danh s√°ch phim</h1>\n      <MovieList />\n      <Pagination\n        style={{ display: \"flex\", justifyContent: \"center\", marginTop: 40 }}\n        onChange={handleChangePage}\n        current={config.currentPage}\n        pageSize={config.pageSize}\n        total={config.totalCount}\n      />\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,MAA3B;AACA,SAASC,iBAAT,QAAkC,yBAAlC;AAEA,OAAOC,SAAP,MAAsB,uCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,SAAlC,QAAmD,kBAAnD;;;AAEA,SAASC,IAAT,GAAgB;EAAA;;EACd,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;EACA,MAAMM,QAAQ,GAAGJ,WAAW,EAA5B;EACA,MAAMK,OAAO,GAAGN,UAAU,EAA1B;EAGA,MAAMO,WAAW,GAAG,IAAIC,eAAJ,CAAoBH,QAAQ,CAACI,MAA7B,EAAqCC,GAArC,CAAyC,MAAzC,CAApB;EAEA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC;IACnCU,WAAW,EAAE,CAACA,WAAD,IAAgB,CADM;IAEnCM,QAAQ,EAAE,CAFyB;IAGnCC,UAAU,EAAE;EAHuB,CAAD,CAApC;EAMA,MAAM,CAAEC,KAAF,EAASC,QAAT,IAAoBnB,QAAQ,CAAC,CAAD,CAAlC;;EAEA,MAAMoB,gBAAgB,GAAIC,KAAD,IAAW;IAClCN,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAaG,UAAU,EAAEI;IAAzB,CAAD,CAAT;EACD,CAFD;;EAIA,MAAMC,WAAW,GAAG,YAAY;IAC9Bf,QAAQ,CAACV,iBAAiB,CAACiB,MAAD,EAASM,gBAAT,CAAlB,CAAR;EACD,CAFD;;EAIA,MAAMG,gBAAgB,GAAIC,IAAD,IAAU;IACjC;IACAf,OAAO,CAACgB,IAAR,CAAc,UAASD,IAAK,MAA5B;IACAT,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAaJ,WAAW,EAAEc;IAA1B,CAAD,CAAT;EACD,CAJD;;EAMAvB,SAAS,CAAC,MAAM;IACdqB,WAAW;EACZ,CAFQ,EAEN,CAACR,MAAM,CAACJ,WAAR,CAFM,CAAT;EAIA,oBACE;IAAA,wBACE;MAAI,KAAK,EAAE;QAAEgB,SAAS,EAAE,QAAb;QAAuBC,QAAQ,EAAE;MAAjC,CAAX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,SAAD;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE,QAAC,UAAD;MACE,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAX;QAAmBC,cAAc,EAAE,QAAnC;QAA6CC,SAAS,EAAE;MAAxD,CADT;MAEE,QAAQ,EAAEP,gBAFZ;MAGE,OAAO,EAAET,MAAM,CAACJ,WAHlB;MAIE,QAAQ,EAAEI,MAAM,CAACE,QAJnB;MAKE,KAAK,EAAEF,MAAM,CAACG;IALhB;MAAA;MAAA;MAAA;IAAA,QAHF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAaD;;GA/CQX,I;UACUJ,W,EACAE,W,EACDD,U;;;KAHTG,I;AAiDT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}