{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\New folder\\\\31-08-2022-10-15-45-archive\\\\src\\\\features\\\\booking\\\\pages\\\\Detail\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Spin, Col, Row } from \"antd\";\nimport { formatDate } from \"common/utils/date\";\nimport { fetchCinemasAction, fetchMovieDetailAction, fetchMovieScheduleAction } from \"features/booking/action\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams, useRouteMatch } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Detail() {\n  _s();\n\n  const match = useRouteMatch();\n  const dispatch = useDispatch();\n  const movieId = match.params.id;\n  const selectedMovie = useSelector(state => {\n    return state.booking.selectedMovie;\n  });\n  const cinemas = useSelector(state => {\n    return state.booking.cinemas;\n  });\n  const schedule = useSelector(state => {\n    return state.booking.schedule;\n  });\n\n  const fetchMovieDetail = () => {\n    dispatch(fetchMovieDetailAction(movieId));\n  };\n\n  const fetchCinemas = async () => {\n    const data = await dispatch(fetchCinemasAction);\n    fetchMovieSchedule(data[0].maHeThongRap);\n  };\n\n  const fetchMovieSchedule = id => {\n    dispatch(fetchMovieScheduleAction(id));\n  };\n\n  useEffect(() => {\n    fetchMovieDetail();\n    fetchCinemas();\n  }, []);\n\n  if (!selectedMovie) {\n    return /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        gutter: 20,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          sm: 12,\n          md: 6,\n          lg: 4,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              height: 400\n            },\n            src: selectedMovie.hinhAnh\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 5,\n          offset: 6,\n          children: selectedMovie.trailer.startsWith(\"https\") && /*#__PURE__*/_jsxDEV(\"iframe\", {\n            width: \"1280\",\n            height: \"720\",\n            src: selectedMovie.trailer,\n            title: selectedMovie.tenPhim,\n            frameBorder: \"0\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: selectedMovie.tenPhim\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: selectedMovie.moTa\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 30\n      },\n      children: [cinemas === null || cinemas === void 0 ? void 0 : cinemas.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: 100,\n            marginRight: 20\n          },\n          src: item.logo,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this);\n      }), schedule === null || schedule === void 0 ? void 0 : schedule.lstCumRap.map(item => {\n        const currentMovie = item.danhSachPhim.find(movie => movie.maPhim.toString() === movieId);\n        if (!currentMovie) return null;\n        return /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            margin: 20,\n            background: \"#000\",\n            color: \"#fff\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.hinhAnh,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 30\n            },\n            children: item.tenCumRap\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), currentMovie.lstLichChieuTheoPhim.map(show => {\n            return /*#__PURE__*/_jsxDEV(Button, {\n              type: \"default\",\n              style: {\n                marginRight: 10\n              },\n              children: formatDate(show.ngayChieuGioChieu)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Detail, \"RRZga1IQBft/obj4g4e2kBGSgEY=\", false, function () {\n  return [useRouteMatch, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Detail;\nexport default Detail;\n\nvar _c;\n\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["Button","Card","Spin","Col","Row","formatDate","fetchCinemasAction","fetchMovieDetailAction","fetchMovieScheduleAction","React","useState","useEffect","useDispatch","useSelector","useParams","useRouteMatch","Detail","match","dispatch","movieId","params","id","selectedMovie","state","booking","cinemas","schedule","fetchMovieDetail","fetchCinemas","data","fetchMovieSchedule","maHeThongRap","height","hinhAnh","trailer","startsWith","tenPhim","moTa","margin","map","item","width","marginRight","logo","lstCumRap","currentMovie","danhSachPhim","find","movie","maPhim","toString","background","color","fontSize","tenCumRap","lstLichChieuTheoPhim","show","ngayChieuGioChieu"],"sources":["C:/Users/Administrator/Desktop/New folder/31-08-2022-10-15-45-archive/src/features/booking/pages/Detail/index.jsx"],"sourcesContent":["import { Button, Card, Spin, Col, Row } from \"antd\";\nimport { formatDate } from \"common/utils/date\";\nimport {\n  fetchCinemasAction,\n  fetchMovieDetailAction,\n  fetchMovieScheduleAction,\n} from \"features/booking/action\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams, useRouteMatch } from \"react-router-dom\";\n\nfunction Detail() {\n  const match = useRouteMatch();\n  const dispatch = useDispatch();\n\n\n  const movieId = match.params.id;\n\n  const selectedMovie = useSelector((state) => {\n    return state.booking.selectedMovie;\n  });\n\n  const cinemas = useSelector((state) => {\n    return state.booking.cinemas;\n  });\n\n  const schedule = useSelector((state) => {\n    return state.booking.schedule;\n  });\n\n  const fetchMovieDetail = () => {\n    dispatch(fetchMovieDetailAction(movieId));\n  };\n\n  const fetchCinemas = async () => {\n    const data = await dispatch(fetchCinemasAction);\n    fetchMovieSchedule(data[0].maHeThongRap);\n  };\n\n  const fetchMovieSchedule = (id) => {\n    dispatch(fetchMovieScheduleAction(id));\n  };\n\n  useEffect(() => {\n    fetchMovieDetail();\n    fetchCinemas();\n  }, []);\n\n  if (!selectedMovie) {\n    return <Spin></Spin>;\n  }\n\n  return (\n    <div>\n      <div>\n        <Row gutter={20}>\n          <Col xs={12} sm={12} md={6} lg={4} >\n            <img style={{height: 400}} src={selectedMovie.hinhAnh} />\n          </Col>\n          <Col span={5} offset={6}>\n            {selectedMovie.trailer.startsWith(\"https\") && (\n              <iframe\n                width=\"1280\"\n                height=\"720\"\n                src={selectedMovie.trailer}\n                title={selectedMovie.tenPhim}\n                frameBorder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n              ></iframe>\n            )}\n          </Col>\n        </Row>\n      </div>\n      <h1>{selectedMovie.tenPhim}</h1>\n\n      <p>{selectedMovie.moTa}</p>\n      <div style={{ margin: 30 }}>\n        {cinemas?.map((item) => {\n          return (\n            <img\n              style={{ width: 100, marginRight: 20 }}\n              src={item.logo}\n              alt=\"\"\n            />\n          );\n        })}\n\n        {schedule?.lstCumRap.map((item) => {\n          const currentMovie = item.danhSachPhim.find(\n            (movie) => movie.maPhim.toString() === movieId\n          );\n\n          if (!currentMovie) return null;\n\n          return (\n            <Card style={{ margin: 20, background: \"#000\", color: \"#fff\" }}>\n              <img src={item.hinhAnh} alt=\"\" />\n              <p style={{ fontSize: 30 }}>{item.tenCumRap}</p>\n              {/* List các suất chiếu */}\n              {currentMovie.lstLichChieuTheoPhim.map((show) => {\n                return (\n                  <Button type=\"default\" style={{ marginRight: 10 }}>\n                    {formatDate(show.ngayChieuGioChieu)}\n                  </Button>\n                );\n              })}\n            </Card>\n          );\n        })}\n      </div>\n\n    </div>\n  );\n}\n\nexport default Detail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}