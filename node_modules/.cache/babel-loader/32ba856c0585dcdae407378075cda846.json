{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\31-08-2022-10-15-45-archive\\\\src\\\\features\\\\authentication\\\\pages\\\\Signin\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Input } from \"antd\";\nimport { useFormik } from \"formik\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport styles from \"./style.module.css\";\nimport * as yup from \"yup\";\nimport instance from \"api/instance\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { SET_PROFILE } from \"features/authentication/action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({\n  taiKhoan: yup.string().required(\"*Trường này bắt buộc nhập\"),\n  matKhau: yup.string().required(\"*Trường này bắt buộc nhập\")\n});\n\nfunction Signin() {\n  _s();\n\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const formik = useFormik({\n    initialValues: {\n      taiKhoan: \"\",\n      matKhau: \"\"\n    },\n    onSubmit: values => {\n      signIn(values);\n    },\n    validationSchema: schema\n  });\n\n  const signIn = async user => {\n    try {\n      setIsLoading(true);\n      const res = await instance.request({\n        url: \"/api/QuanLyNguoiDung/DangNhap\",\n        method: \"POST\",\n        data: user\n      });\n      const profile = { ...res.data.content\n      };\n      delete profile.accessToken;\n      localStorage.setItem(\"token\", res.data.content.accessToken);\n      dispatch({\n        type: SET_PROFILE,\n        payload: profile\n      });\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles.title,\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      className: styles.form,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        name: \"taiKhoan\",\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        className: styles.input,\n        type: \"text\",\n        placeholder: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), formik.touched.taiKhoan && formik.errors.taiKhoan && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.errorText,\n        children: formik.errors.taiKhoan\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"matKhau\",\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        className: styles.input,\n        type: \"password\",\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), formik.touched.matKhau && formik.errors.matKhau && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.errorText,\n        children: formik.errors.matKhau\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        loading: isLoading,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signin, \"oIn/K4pkcgH1jZUcyNNjdDH22gs=\", false, function () {\n  return [useDispatch, useFormik];\n});\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["Button","Input","useFormik","React","useState","styles","yup","instance","useHistory","useDispatch","SET_PROFILE","schema","object","taiKhoan","string","required","matKhau","Signin","dispatch","isLoading","setIsLoading","formik","initialValues","onSubmit","values","signIn","validationSchema","user","res","request","url","method","data","profile","content","accessToken","localStorage","setItem","type","payload","err","console","log","title","handleSubmit","form","handleChange","handleBlur","input","touched","errors","errorText"],"sources":["C:/Users/Administrator/Desktop/31-08-2022-10-15-45-archive/src/features/authentication/pages/Signin/index.jsx"],"sourcesContent":["import { Button, Input } from \"antd\";\nimport { useFormik } from \"formik\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport styles from \"./style.module.css\";\nimport * as yup from \"yup\";\nimport instance from \"api/instance\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { SET_PROFILE } from \"features/authentication/action\";\n\nconst schema = yup.object({\n  taiKhoan: yup.string().required(\"*Trường này bắt buộc nhập\"),\n  matKhau: yup.string().required(\"*Trường này bắt buộc nhập\"),\n});\n\nfunction Signin() {\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const formik = useFormik({\n    initialValues: {\n      taiKhoan: \"\",\n      matKhau: \"\",\n    },\n    onSubmit: (values) => {\n      signIn(values);\n    },\n    validationSchema: schema,\n  });\n\n  const signIn = async (user) => {\n    try {\n      setIsLoading(true);\n      const res = await instance.request({\n        url: \"/api/QuanLyNguoiDung/DangNhap\",\n        method: \"POST\",\n        data: user,\n      });\n\n      const profile = { ...res.data.content };\n      delete profile.accessToken;\n\n      localStorage.setItem(\"token\", res.data.content.accessToken);\n      dispatch({ type: SET_PROFILE, payload: profile });\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <h2 className={styles.title}>Sign In</h2>\n      <form onSubmit={formik.handleSubmit} className={styles.form}>\n        <Input\n          name=\"taiKhoan\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          className={styles.input}\n          type=\"text\"\n          placeholder=\"Username\"\n        />\n        {formik.touched.taiKhoan && formik.errors.taiKhoan && (\n          <p className={styles.errorText}>{formik.errors.taiKhoan}</p>\n        )}\n\n        <Input\n          name=\"matKhau\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          className={styles.input}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        {formik.touched.matKhau && formik.errors.matKhau && (\n          <p className={styles.errorText}>{formik.errors.matKhau}</p>\n        )}\n\n        <Button type=\"primary\" htmlType=\"submit\" loading={isLoading}>\n          Submit\n        </Button>\n      </form>\n    </div>\n  );\n}\n\nexport default Signin;\n"],"mappings":";;;AAAA,SAASA,MAAT,EAAiBC,KAAjB,QAA8B,MAA9B;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,gCAA5B;;AAEA,MAAMC,MAAM,GAAGL,GAAG,CAACM,MAAJ,CAAW;EACxBC,QAAQ,EAAEP,GAAG,CAACQ,MAAJ,GAAaC,QAAb,CAAsB,2BAAtB,CADc;EAExBC,OAAO,EAAEV,GAAG,CAACQ,MAAJ,GAAaC,QAAb,CAAsB,2BAAtB;AAFe,CAAX,CAAf;;AAKA,SAASE,MAAT,GAAkB;EAAA;;EAChB,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;EACA,MAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,KAAD,CAA1C;EAEA,MAAMiB,MAAM,GAAGnB,SAAS,CAAC;IACvBoB,aAAa,EAAE;MACbT,QAAQ,EAAE,EADG;MAEbG,OAAO,EAAE;IAFI,CADQ;IAKvBO,QAAQ,EAAGC,MAAD,IAAY;MACpBC,MAAM,CAACD,MAAD,CAAN;IACD,CAPsB;IAQvBE,gBAAgB,EAAEf;EARK,CAAD,CAAxB;;EAWA,MAAMc,MAAM,GAAG,MAAOE,IAAP,IAAgB;IAC7B,IAAI;MACFP,YAAY,CAAC,IAAD,CAAZ;MACA,MAAMQ,GAAG,GAAG,MAAMrB,QAAQ,CAACsB,OAAT,CAAiB;QACjCC,GAAG,EAAE,+BAD4B;QAEjCC,MAAM,EAAE,MAFyB;QAGjCC,IAAI,EAAEL;MAH2B,CAAjB,CAAlB;MAMA,MAAMM,OAAO,GAAG,EAAE,GAAGL,GAAG,CAACI,IAAJ,CAASE;MAAd,CAAhB;MACA,OAAOD,OAAO,CAACE,WAAf;MAEAC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BT,GAAG,CAACI,IAAJ,CAASE,OAAT,CAAiBC,WAA/C;MACAjB,QAAQ,CAAC;QAAEoB,IAAI,EAAE5B,WAAR;QAAqB6B,OAAO,EAAEN;MAA9B,CAAD,CAAR;IACD,CAbD,CAaE,OAAOO,GAAP,EAAY;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAfD,SAeU;MACRpB,YAAY,CAAC,KAAD,CAAZ;IACD;EACF,CAnBD;;EAqBA,oBACE;IAAA,wBACE;MAAI,SAAS,EAAEf,MAAM,CAACsC,KAAtB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAM,QAAQ,EAAEtB,MAAM,CAACuB,YAAvB;MAAqC,SAAS,EAAEvC,MAAM,CAACwC,IAAvD;MAAA,wBACE,QAAC,KAAD;QACE,IAAI,EAAC,UADP;QAEE,QAAQ,EAAExB,MAAM,CAACyB,YAFnB;QAGE,MAAM,EAAEzB,MAAM,CAAC0B,UAHjB;QAIE,SAAS,EAAE1C,MAAM,CAAC2C,KAJpB;QAKE,IAAI,EAAC,MALP;QAME,WAAW,EAAC;MANd;QAAA;QAAA;QAAA;MAAA,QADF,EASG3B,MAAM,CAAC4B,OAAP,CAAepC,QAAf,IAA2BQ,MAAM,CAAC6B,MAAP,CAAcrC,QAAzC,iBACC;QAAG,SAAS,EAAER,MAAM,CAAC8C,SAArB;QAAA,UAAiC9B,MAAM,CAAC6B,MAAP,CAAcrC;MAA/C;QAAA;QAAA;QAAA;MAAA,QAVJ,eAaE,QAAC,KAAD;QACE,IAAI,EAAC,SADP;QAEE,QAAQ,EAAEQ,MAAM,CAACyB,YAFnB;QAGE,MAAM,EAAEzB,MAAM,CAAC0B,UAHjB;QAIE,SAAS,EAAE1C,MAAM,CAAC2C,KAJpB;QAKE,IAAI,EAAC,UALP;QAME,WAAW,EAAC;MANd;QAAA;QAAA;QAAA;MAAA,QAbF,EAqBG3B,MAAM,CAAC4B,OAAP,CAAejC,OAAf,IAA0BK,MAAM,CAAC6B,MAAP,CAAclC,OAAxC,iBACC;QAAG,SAAS,EAAEX,MAAM,CAAC8C,SAArB;QAAA,UAAiC9B,MAAM,CAAC6B,MAAP,CAAclC;MAA/C;QAAA;QAAA;QAAA;MAAA,QAtBJ,eAyBE,QAAC,MAAD;QAAQ,IAAI,EAAC,SAAb;QAAuB,QAAQ,EAAC,QAAhC;QAAyC,OAAO,EAAEG,SAAlD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAzBF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAkCD;;GAtEQF,M;UACUR,W,EAGFP,S;;;KAJRe,M;AAwET,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}